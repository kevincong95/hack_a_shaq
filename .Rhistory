View(shotDataf)
library(rjson)
install(rjson)
pacakge(rjson)
package(rjson)
install.packages(rjson)
install.packages("rjson")
library(rjson)
playerID <- 201939
shotURL <- paste("http://stats.nba.com/stats/shotchartdetail?CFID=33&CFPARAMS=2015-16&ContextFilter=&ContextMeasure=FGA&DateFrom=&DateTo=&GameID=&GameSegment=&LastNGames=0&LeagueID=00&Location=&MeasureType=Base&Month=0&OpponentTeamID=0&Outcome=&PaceAdjust=N&PerMode=PerGame&Period=0&PlayerID=",playerID,"&PlusMinus=N&Position=&Rank=N&RookieYear=&Season=2015-16&SeasonSegment=&SeasonType=Regular+Season&TeamID=0&VsConference=&VsDivision=&mode=Advanced&showDetails=0&showShots=1&showZones=0", sep = "")
shotURL
shotData <- fromJSON(file = shotURL, method="C")
shotDataf <- data.frame(matrix(unlist(shotData$resultSets[[1]][[3]]), ncol=21, byrow = TRUE))
colnames(shotDataf) <- shotData$resultSets[[1]][[2]]
View(shotDataf)
shotDataf$LOC_X <- as.numeric(as.character(shotDataf$LOC_X))
shotDataf$LOC_Y <- as.numeric(as.character(shotDataf$LOC_Y))
shotDataf$SHOT_DISTANCE <- as.numeric(as.character(shotDataf$SHOT_DISTANCE))
View(shotDataf)
geom_point(aes(colour = EVENT_TYPE))
geom_point(aes(colour = EVENT_TYPE))
ggplot2(shotDataf, aes(x=LOC_X, y=LOC_Y)) +
geom_point(aes(colour = EVENT_TYPE))
ggplot(shotDataf, aes(x=LOC_X, y=LOC_Y)) +
geom_point(aes(colour = EVENT_TYPE))
library(ggplot2)
ggplot(shotDataf, aes(x=LOC_X, y=LOC_Y)) +
geom_point(aes(colour = EVENT_TYPE))
library(grid)
library(jpeg)
install.packages('jpeg')
courtImg.URL <- "https://thedatagame.files.wordpress.com/2016/03/nba_court.jpg"
court <- rasterGrob(readJPEG(getURLContent(courtImg.URL)),
width=unit(1,"npc"), height=unit(1,"npc"))
library('jpeg')
court <- rasterGrob(readJPEG(getURLContent(courtImg.URL)),
width=unit(1,"npc"), height=unit(1,"npc"))
library('RCurl')
install.packages('RCurl')
court <- rasterGrob(readJPEG(getURLContent(courtImg.URL)),
width=unit(1,"npc"), height=unit(1,"npc"))
library(RCurl)
court <- rasterGrob(readJPEG(getURLContent(courtImg.URL)),
width=unit(1,"npc"), height=unit(1,"npc"))
ggplot(shotDataf, aes(x=LOC_X, y=LOC_Y)) +
annotation_custom(court, -250, 250, -50, 420) +
geom_point(aes(colour = SHOT_ZONE_BASIC, shape = EVENT_TYPE)) +
xlim(-250, 250) +
ylim(-50, 420)
shotDataf$EVENT_TYPE <- NULL
View(shotDataf)
ggplot(shotDataf, aes(x=LOC_X, y=LOC_Y)) +
+ annotation_custom(court, -250, 250, -50, 420) +
+ geom_point(aes(colour = SHOT_ZONE_BASIC, shape = SHOT_MADE_FLAG)) +
+ xlim(-250, 250) +
+ ylim(-50, 420)
court <- rasterGrob(readJPEG(getURLContent(courtImg.URL)),
+ width=unit(1,"npc"), height=unit(1,"npc"))
court <- rasterGrob(readJPEG(getURLContent(courtImg.URL)),
width=unit(1,"npc"), height=unit(1,"npc"))
ggplot(shotDataf, aes(x=LOC_X, y=LOC_Y)) +
+ annotation_custom(court, -250, 250, -50, 420) +
+ geom_point(aes(colour = SHOT_ZONE_BASIC, shape = SHOT_MADE_FLAG)) +
+ xlim(-250, 250) +
ylim(-50, 420)
ggplot(shotDataf, aes(x=LOC_X, y=LOC_Y)) +
annotation_custom(court, -250, 250, -50, 420) +
geom_point(aes(colour = SHOT_ZONE_BASIC, shape = SHOT_MADE_FLAG)) +
xlim(-250, 250) +
ylim(-50, 420)
ggplot(shotDataf, aes(x=LOC_X, y=LOC_Y)) +
annotation_custom(court, -250, 250, -50, 420) +
geom_point(aes(colour = SHOT_ZONE_BASIC, shape = SHOT_MADE_FLAG)) +
xlim(250, -250) +
ylim(-50, 420) +
geom_rug(alpha = 0.2) +
coord_fixed()
hacks <- read.csv("hack_master.csv")
setwd("~/Desktop/hack_a_shaq")
hacks <- read.csv("hack_master.csv")
hackedPlayers <- table(hacks$HackedPlayerID)
table(hacks$HackedPlayerID)
hackers <- table(hacks$Team) #Hornets have not hacked at all
hackees <- table(hacks$Opp) #Spurs have not gotten hacked
typeof(hackedPlayers)
hackedPlayers[1]
hackedIDs <- names(hackedPlayers)
hackedIDs
View(hacks)
hacks <- hacks[1,24]
hacks <- read.csv("hack_master.csv")
hacks[hacks$Win==1,]
successfulHacks <- hacks[hacks$Win==1,]
View(successfulHacks)
hacks <- read.csv("hack_master.csv")
View(hacks)
hackedPlayers <- table(hacks$HackedPlayerID)
table(hacks$HackedPlayerID)
hackers <- table(hacks$Team) #Hornets have not hacked at all
hackees <- table(hacks$Opp) #Spurs have not gotten hacked
hackedPlayers
allPlayers <- read.csv("all_players.csv")
hackedPlayers
hackedIDs <- names(hackedPlayers)
hackedPlayers["201599"]
View(allPlayers)
hackedNames <- allPlayers$DISPLAY_FIRST_LAST[allPlayers$PERSON_ID %in% hackedIDs]
hackedNames
typeof(hackedNames)
hackedNames[1]
View(successfulHacks)
hackedIDs
hackedPlayers
targets <- hackedPlayers[which(hackedPlayers >= 10)]
targets
181 + 82 + 79 + 24 + 25
targetPlayers <- allPlayers$DISPLAY_FIRST_LAST[allPlayers$PERSON_ID %in% targets]
targetPlayers
hackedNames <- allPlayers$DISPLAY_FIRST_LAST[allPlayers$PERSON_ID %in% names(targets)]
hackedNames
View(allPlayers)
targets
View(allPlayers)
allPlayers <- allPlayers[order(FT_RATE15),]
allPlayers <- allPlayers[order(allPlayers$FT_RATE15),]
View(allPlayers)
View(allPlayers)
allPlayers <- allPlayers[allPlayers$ROSTERSTATUS == 1,]
View(allPlayers)
View(allPlayers)
hackers
hackees
hackees[26]
type(hackees)
typeof(hackees)
class(hackees)
append(hackees, 0, 26)
append(names(hackees), "SAS", 26)
hackees
vulnerable <- allPlayers[allPlayers$FT_RATE15 > 0 && allPlayers$FT_RATE15 < 0.7]
View(vulnerable)
View(vulnerable)
vulnerable <- allPlayers[allPlayers$FT_RATE15 > 0]
vulnerable <- allPlayers[allPlayers$FT_RATE15 > 0, allPlayers$FT_RATE15 < 0.7,]
vulnerable <- allPlayers[allPlayers$FT_RATE15 > 0 && allPlayers$FT_RATE15 < 0.7,]
vulnerable <- allPlayers[allPlayers$FT_RATE15 > 0,]
View(vulnerable)
vulnerable <- allPlayers[allPlayers$FT_RATE15 < 0.7,]
vulnerable <- allPlayers[allPlayers$FT_RATE15 > 0,]
vulnerable <- vulnerable[vulnerable$FT_RATE15 < 0.7,]
View(vulnerable)
typeof(targets)
class(targets)
hackedPlayers
targets
